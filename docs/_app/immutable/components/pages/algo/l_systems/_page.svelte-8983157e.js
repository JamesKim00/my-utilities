import{Q as We,S as lt,i as at,s as nt,a as b,k as h,q as j,c as m,l as c,m as k,h as w,r as W,n as p,R as rt,b as te,M as l,T as Je,U as M,O as H,V as st,W as Y,B as Le,D as qe,X as it,C as ot,o as ut,p as ft,u as ht,F as ct,Y as dt}from"../../../../chunks/index-53c0c08a.js";import{w as tt}from"../../../../chunks/index-802b647c.js";const Qe={binaryTree:{axiom:"0",rules:{1:"11",0:"1[0]0"},actions:{0:["draw"],1:["draw"],"[":["push","left"],"]":["pop","right"]},defaults:{angle:45,iterationCount:7,length:6}},kochCurve:{axiom:"F",rules:{F:"F+F-F-F+F"},actions:{F:["draw"],"+":["left"],"-":["right"]},defaults:{angle:90,iterationCount:3,length:14}},sierpinskiTriangle:{axiom:"F-G-G",rules:{F:"F-G+F+G-F",G:"GG"},actions:{F:["draw"],G:["draw"],"+":["left"],"-":["right"]},defaults:{angle:120,iterationCount:4,length:20}},dragonCurve:{axiom:"F",rules:{F:"F+G",G:"F-G"},actions:{F:["draw"],G:["draw"],"+":["left"],"-":["right"]},defaults:{angle:90,iterationCount:8,length:16}},fractalPlant:{axiom:"X",rules:{X:"F+[[X]-X]-F[-FX]+X",F:"FF"},actions:{F:["draw"],"+":["left"],"-":["right"],X:[],"[":["push"],"]":["pop"]},defaults:{angle:25,iterationCount:4,length:17}}};function pt(e){var n=0,a={},s=URL.createObjectURL(new Blob(["$$="+e+";onmessage="+function(r){Promise.resolve(r.data[1]).then(function(u){return $$.apply($$,u)}).then(function(u){postMessage([r.data[0],0,u],[u].filter(function(t){return t instanceof ArrayBuffer||t instanceof MessagePort||self.ImageBitmap&&t instanceof ImageBitmap}))},function(u){postMessage([r.data[0],1,""+u])})}])),o=new Worker(s);return o.onmessage=function(r){a[r.data[0]][r.data[1]](r.data[2]),a[r.data[0]]=null},function(r){return r=[].slice.call(arguments),new Promise(function(){a[++n]=arguments,o.postMessage([n,r],r.filter(function(u){return u instanceof ArrayBuffer||u instanceof MessagePort||self.ImageBitmap&&u instanceof ImageBitmap}))})}}let he=!1;const _t=()=>he,Ve=tt(1),ce=tt(!1);async function gt({arrangement:e,actions:n,angle:a,startingX:s,startingY:o,ctx:r,length:u}){he=!0;let t=[],g=s,d=o,E=0,F=0;const L=async()=>{F++,F>=We(Ve)&&(F=0,await new Promise(I=>setTimeout(I,1)))};for(let I=0;I<e.length;I++)for(const V of n[e.charAt(I)]){if(We(ce)){he=!1,ce.set(!1);return}switch(V){case"draw":await L();let O=g+Math.cos(E)*u,X=d+Math.sin(E)*u;r.moveTo(g,d),r.lineTo(O,X),r.stroke(),r.closePath(),g=O,d=X;break;case"right":E+=a;break;case"left":E-=a;break;case"push":t.push([g,d,E]);break;case"pop":let v=t.pop();g=v[0],d=v[1],E=v[2];break}}he=!1}const bt=pt(async(e,n,a)=>{let s=e;for(let o=0;o<a;o++){let r="";for(let u=0;u<s.length;u++){let t=s.charAt(u);t in n?r+=n[t]:r+=t}s=r}return s});function ze(e,n,a){const s=e.slice();return s[25]=n[a][0],s[26]=n[a][1],s[27]=n,s[28]=a,s}function Ke(e,n,a){const s=e.slice();return s[26]=n[a],s}function Ze(e){let n,a,s,o,r,u,t;return{c(){n=h("div"),a=h("div"),s=h("div"),o=b(),r=h("div"),u=b(),t=h("div"),this.h()},l(g){n=c(g,"DIV",{class:!0,style:!0});var d=k(n);a=c(d,"DIV",{class:!0});var E=k(a);s=c(E,"DIV",{class:!0}),k(s).forEach(w),o=m(E),r=c(E,"DIV",{class:!0}),k(r).forEach(w),u=m(E),t=c(E,"DIV",{class:!0}),k(t).forEach(w),E.forEach(w),d.forEach(w),this.h()},h(){p(s,"class","w-4 h-4 rounded-full animate-pulse dark:bg-violet-400"),p(r,"class","w-4 h-4 rounded-full animate-pulse dark:bg-violet-400"),p(t,"class","w-4 h-4 rounded-full animate-pulse dark:bg-violet-400"),p(a,"class","flex items-center justify-center space-x-2"),p(n,"class","absolute left-1/2 top-1/2 translate-x-1"),ft(n,"transform","translate(-50%,-50%)")},m(g,d){te(g,n,d),l(n,a),l(a,s),l(a,o),l(a,r),l(a,u),l(a,t)},d(g){g&&w(n)}}}function $e(e){let n,a=e[26]+"",s;return{c(){n=h("option"),s=j(a),this.h()},l(o){n=c(o,"OPTION",{});var r=k(n);s=W(r,a),r.forEach(w),this.h()},h(){n.__value=e[26],n.value=n.__value},m(o,r){te(o,n,r),l(n,s)},p:Le,d(o){o&&w(n)}}}function xe(e){let n,a,s,o;function r(){return e[18](e[25])}return{c(){n=h("button"),a=j("(toDefault?)")},l(u){n=c(u,"BUTTON",{});var t=k(n);a=W(t,"(toDefault?)"),t.forEach(w)},m(u,t){te(u,n,t),l(n,a),s||(o=H(n,"click",r),s=!0)},p(u,t){e=u},d(u){u&&w(n),s=!1,o()}}}function et(e){let n,a,s=e[25].charAt(0).toUpperCase()+e[25].slice(1)+": ",o,r,u,t,g,d,E,F,L,I,V,O;function X(){e[17].call(d,e[25])}let v=e[26]!==e[5][e[25]]&&xe(e);return{c(){n=h("div"),a=h("label"),o=j(s),u=b(),t=h("br"),g=b(),d=h("input"),F=b(),L=h("br"),I=b(),v&&v.c(),this.h()},l(T){n=c(T,"DIV",{class:!0});var y=k(n);a=c(y,"LABEL",{for:!0});var A=k(a);o=W(A,s),A.forEach(w),u=m(y),t=c(y,"BR",{}),g=m(y),d=c(y,"INPUT",{id:!0,type:!0}),F=m(y),L=c(y,"BR",{}),I=m(y),v&&v.l(y),y.forEach(w),this.h()},h(){p(a,"for",r=e[25]),p(d,"id",E=e[25]),p(d,"type","number"),d.required=!0,p(n,"class","py-2")},m(T,y){te(T,n,y),l(n,a),l(a,o),l(n,u),l(n,t),l(n,g),l(n,d),M(d,e[6][e[25]]),l(n,F),l(n,L),l(n,I),v&&v.m(n,null),V||(O=H(d,"input",X),V=!0)},p(T,y){e=T,y&64&&s!==(s=e[25].charAt(0).toUpperCase()+e[25].slice(1)+": ")&&ht(o,s),y&64&&r!==(r=e[25])&&p(a,"for",r),y&64&&E!==(E=e[25])&&p(d,"id",E),y&64&&Y(d.value)!==e[6][e[25]]&&M(d,e[6][e[25]]),e[26]!==e[5][e[25]]?v?v.p(e,y):(v=xe(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},d(T){T&&w(n),v&&v.d(),V=!1,O()}}}function mt(e){let n,a,s,o,r,u,t,g,d,E,F,L,I,V,O,X,v,T,y,A,le,ae,ne,J,re,se,ie,C,R,de,pe,_e,z,ge,be,me,ve,G,we,ye,Ee,K,ke,Fe,Be,Ce,U,Ie,oe,Re,Te,De,S,ue,Pe,Ne,Z,Oe,fe,Ae,Xe,N=e[7]&&Ze(),$=e[9],D=[];for(let i=0;i<$.length;i+=1)D[i]=$e(Ke(e,$,i));let x=Object.entries(e[6]),P=[];for(let i=0;i<x.length;i+=1)P[i]=et(ze(e,x,i));return{c(){N&&N.c(),n=b(),a=h("div"),s=h("div"),o=h("div"),r=h("canvas"),u=b(),t=h("div"),g=h("h1"),d=j("Choose a preset:"),E=b(),F=h("select");for(let i=0;i<D.length;i+=1)D[i].c();L=b(),I=h("br"),V=b(),O=h("label"),X=j("Rotate:"),v=b(),T=h("br"),y=b(),A=h("input"),le=b(),ae=h("br"),ne=b(),J=h("label"),re=j("Canvas Height:"),se=b(),ie=h("br"),C=b(),R=h("input"),de=b(),pe=h("br"),_e=b(),z=h("label"),ge=j("Canvas Width:"),be=b(),me=h("br"),ve=b(),G=h("input"),we=b(),ye=h("br"),Ee=b(),K=h("label"),ke=j("Speed:"),Fe=b(),Be=h("br"),Ce=b(),U=h("input"),Ie=b(),oe=h("div"),Re=b(),Te=h("hr"),De=b(),S=h("form");for(let i=0;i<P.length;i+=1)P[i].c();ue=b(),Pe=h("hr"),Ne=b(),Z=h("button"),Oe=j("(Submit)"),this.h()},l(i){N&&N.l(i),n=m(i),a=c(i,"DIV",{class:!0,style:!0});var B=k(a);s=c(B,"DIV",{class:!0});var _=k(s);o=c(_,"DIV",{class:!0,style:!0});var q=k(o);r=c(q,"CANVAS",{height:!0,width:!0}),k(r).forEach(w),q.forEach(w),_.forEach(w),u=m(B),t=c(B,"DIV",{class:!0});var f=k(t);g=c(f,"H1",{});var Ge=k(g);d=W(Ge,"Choose a preset:"),Ge.forEach(w),E=m(f),F=c(f,"SELECT",{});var Se=k(F);for(let Q=0;Q<D.length;Q+=1)D[Q].l(Se);Se.forEach(w),L=m(f),I=c(f,"BR",{}),V=m(f),O=c(f,"LABEL",{for:!0});var Ue=k(O);X=W(Ue,"Rotate:"),Ue.forEach(w),v=m(f),T=c(f,"BR",{}),y=m(f),A=c(f,"INPUT",{id:!0,type:!0}),le=m(f),ae=c(f,"BR",{}),ne=m(f),J=c(f,"LABEL",{for:!0});var Me=k(J);re=W(Me,"Canvas Height:"),Me.forEach(w),se=m(f),ie=c(f,"BR",{}),C=m(f),R=c(f,"INPUT",{id:!0,type:!0,min:!0}),de=m(f),pe=c(f,"BR",{}),_e=m(f),z=c(f,"LABEL",{for:!0});var He=k(z);ge=W(He,"Canvas Width:"),He.forEach(w),be=m(f),me=c(f,"BR",{}),ve=m(f),G=c(f,"INPUT",{id:!0,type:!0,min:!0}),we=m(f),ye=c(f,"BR",{}),Ee=m(f),K=c(f,"LABEL",{for:!0});var Ye=k(K);ke=W(Ye,"Speed:"),Ye.forEach(w),Fe=m(f),Be=c(f,"BR",{}),Ce=m(f),U=c(f,"INPUT",{id:!0,type:!0,min:!0}),Ie=m(f),oe=c(f,"DIV",{class:!0}),k(oe).forEach(w),Re=m(f),Te=c(f,"HR",{}),De=m(f),S=c(f,"FORM",{});var ee=k(S);for(let Q=0;Q<P.length;Q+=1)P[Q].l(ee);ue=m(ee),Pe=c(ee,"HR",{}),Ne=m(ee),Z=c(ee,"BUTTON",{type:!0});var je=k(Z);Oe=W(je,"(Submit)"),je.forEach(w),ee.forEach(w),f.forEach(w),B.forEach(w),this.h()},h(){p(r,"height",e[3]),p(r,"width",e[4]),p(o,"class","border-8 border-purple-400 overflow-auto"),p(o,"style",`height: ${window.innerHeight*.98}px; width: ${window.innerWidth*.75}px`),p(s,"class","m-auto"),e[1]===void 0&&rt(()=>e[12].call(F)),p(O,"for","rotate"),p(A,"id","rotate"),p(A,"type","number"),p(J,"for","height"),p(R,"id","height"),p(R,"type","number"),p(R,"min","1"),p(z,"for","width"),p(G,"id","width"),p(G,"type","number"),p(G,"min","1"),p(K,"for","speed"),p(U,"id","speed"),p(U,"type","number"),p(U,"min","1"),p(oe,"class","py-1"),p(Z,"type","submit"),p(t,"class","w-1/5 bg-gray-400 h-screen p-2"),p(a,"class","flex flex-row w-full h-full"),p(a,"style",fe=e[7]?"opacity: 0.5; pointer-events: none;":"")},m(i,B){N&&N.m(i,B),te(i,n,B),te(i,a,B),l(a,s),l(s,o),l(o,r),e[11](r),l(a,u),l(a,t),l(t,g),l(g,d),l(t,E),l(t,F);for(let _=0;_<D.length;_+=1)D[_].m(F,null);Je(F,e[1]),l(t,L),l(t,I),l(t,V),l(t,O),l(O,X),l(t,v),l(t,T),l(t,y),l(t,A),M(A,e[2]),l(t,le),l(t,ae),l(t,ne),l(t,J),l(J,re),l(t,se),l(t,ie),l(t,C),l(t,R),M(R,e[3]),l(t,de),l(t,pe),l(t,_e),l(t,z),l(z,ge),l(t,be),l(t,me),l(t,ve),l(t,G),M(G,e[4]),l(t,we),l(t,ye),l(t,Ee),l(t,K),l(K,ke),l(t,Fe),l(t,Be),l(t,Ce),l(t,U),M(U,e[8]),l(t,Ie),l(t,oe),l(t,Re),l(t,Te),l(t,De),l(t,S);for(let _=0;_<P.length;_+=1)P[_].m(S,null);l(S,ue),l(S,Pe),l(S,Ne),l(S,Z),l(Z,Oe),Ae||(Xe=[H(F,"change",e[12]),H(A,"input",e[13]),H(R,"input",e[14]),H(R,"input",e[10]),H(G,"input",e[15]),H(G,"input",e[10]),H(U,"input",e[16]),H(S,"submit",st(e[10]))],Ae=!0)},p(i,[B]){if(i[7]?N||(N=Ze(),N.c(),N.m(n.parentNode,n)):N&&(N.d(1),N=null),B&8&&p(r,"height",i[3]),B&16&&p(r,"width",i[4]),B&512){$=i[9];let _;for(_=0;_<$.length;_+=1){const q=Ke(i,$,_);D[_]?D[_].p(q,B):(D[_]=$e(q),D[_].c(),D[_].m(F,null))}for(;_<D.length;_+=1)D[_].d(1);D.length=$.length}if(B&514&&Je(F,i[1]),B&4&&Y(A.value)!==i[2]&&M(A,i[2]),B&8&&Y(R.value)!==i[3]&&M(R,i[3]),B&16&&Y(G.value)!==i[4]&&M(G,i[4]),B&256&&Y(U.value)!==i[8]&&M(U,i[8]),B&96){x=Object.entries(i[6]);let _;for(_=0;_<x.length;_+=1){const q=ze(i,x,_);P[_]?P[_].p(q,B):(P[_]=et(q),P[_].c(),P[_].m(S,ue))}for(;_<P.length;_+=1)P[_].d(1);P.length=x.length}B&128&&fe!==(fe=i[7]?"opacity: 0.5; pointer-events: none;":"")&&p(a,"style",fe)},i:Le,o:Le,d(i){N&&N.d(i),i&&w(n),i&&w(a),e[11](null),qe(D,i),qe(P,i),Ae=!1,it(Xe)}}}function vt(e,n,a){let s;ot(e,Ve,C=>a(8,s=C));let o,r=!1,u=800,t=800,g={startingX:100,startingY:u/2,angle:45,length:6,iterationCount:4},d=JSON.parse(JSON.stringify(g)),E,F,L,I="binaryTree",V=Object.keys(Qe);function O(C){let R=Qe[C];E=R.axiom,F=R.rules,L=R.actions,a(5,g.angle=R.defaults.angle,g),a(5,g.length=R.defaults.length,g),a(5,g.iterationCount=R.defaults.iterationCount,g),a(6,d=JSON.parse(JSON.stringify(g))),v()}let X=!1;async function v(){if(!r)return;if(_t())return ce.set(!0);T.clearRect(0,0,o.width,o.height),T.beginPath(),a(7,X=!0);const C=await bt(E,F,d.iterationCount);a(7,X=!1),await gt({arrangement:C,actions:L,ctx:T,angle:d.angle*(Math.PI/180),startingX:d.startingX,startingY:d.startingY,length:d.length})}ce.subscribe(async C=>{C||await v()});let T;ut(()=>{T=o.getContext("2d"),r=!0,v()});let y=0;function A(C){ct[C?"unshift":"push"](()=>{o=C,a(0,o),a(2,y)})}function le(){I=dt(this),a(1,I),a(9,V)}function ae(){y=Y(this.value),a(2,y)}function ne(){u=Y(this.value),a(3,u)}function J(){t=Y(this.value),a(4,t)}function re(){s=Y(this.value),Ve.set(s)}function se(C){d[C]=Y(this.value),a(6,d)}const ie=C=>a(6,d[C]=g[C],d);return e.$$.update=()=>{e.$$.dirty&2&&O(I),e.$$.dirty&5&&o&&a(0,o.style.transform=`rotate(${y}deg)`,o)},[o,I,y,u,t,g,d,X,s,V,v,A,le,ae,ne,J,re,se,ie]}class Et extends lt{constructor(n){super(),at(this,n,vt,mt,nt,{})}}export{Et as default};
