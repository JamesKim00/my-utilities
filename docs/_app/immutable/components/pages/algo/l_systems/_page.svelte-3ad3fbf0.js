import{S as ce,i as de,s as _e,k as m,q as U,a as D,l as v,m as O,r as H,h as F,c as I,n as E,Q as ge,b as j,M as u,R as te,O as J,T as pe,B as z,D as le,U as be,o as me,V as ae,u as ve,W as fe,F as Fe,X as we}from"../../../../chunks/index-db3e86e4.js";const ne={binaryTree:{axiom:"0",rules:{1:"11",0:"1[0]0"},actions:{0:["draw"],1:["draw"],"[":["push","left"],"]":["pop","right"]},defaults:{angle:45,iterationCount:7,length:6}},kochCurve:{axiom:"F",rules:{F:"F+F-F-F+F"},actions:{F:["draw"],"+":["left"],"-":["right"]},defaults:{angle:90,iterationCount:3,length:14}},sierpinskiTriangle:{axiom:"F-G-G",rules:{F:"F-G+F+G-F",G:"GG"},actions:{F:["draw"],G:["draw"],"+":["left"],"-":["right"]},defaults:{angle:120,iterationCount:4,length:20}},dragonCurve:{axiom:"F",rules:{F:"F+G",G:"F-G"},actions:{F:["draw"],G:["draw"],"+":["left"],"-":["right"]},defaults:{angle:90,iterationCount:8,length:16}},fractalPlant:{axiom:"X",rules:{X:"F+[[X]-X]-F[-FX]+X",F:"FF"},actions:{F:["draw"],"+":["left"],"-":["right"],X:[],"[":["push"],"]":["pop"]},defaults:{angle:25,iterationCount:4,length:17}}};function ke({arrangement:e,actions:t,angle:l,startingX:a,startingY:c,ctx:i,length:r}){let h=[],w=a,f=c,g=0;for(let d=0;d<e.length;d++)for(const G of t[e.charAt(d)])switch(G){case"draw":let S=w+Math.cos(g)*r,X=f+Math.sin(g)*r;i.moveTo(w,f),i.lineTo(S,X),i.stroke(),i.closePath(),w=S,f=X;break;case"right":g+=l;break;case"left":g-=l;break;case"push":h.push([w,f,g]);break;case"pop":let p=h.pop();w=p[0],f=p[1],g=p[2];break}}function Ce(e,t,l){let a=e;for(let c=0;c<l;c++){let i="";for(let r=0;r<a.length;r++){let h=a.charAt(r);h in t?i+=t[h]:i+=h}a=i}return a}function re(e,t,l){const a=e.slice();return a[17]=t[l][0],a[18]=t[l][1],a[19]=t,a[20]=l,a}function ie(e,t,l){const a=e.slice();return a[18]=t[l],a}function se(e){let t,l=e[18]+"",a;return{c(){t=m("option"),a=U(l),this.h()},l(c){t=v(c,"OPTION",{});var i=O(t);a=H(i,l),i.forEach(F),this.h()},h(){t.__value=e[18],t.value=t.__value},m(c,i){j(c,t,i),u(t,a)},p:z,d(c){c&&F(t)}}}function oe(e){let t,l,a,c;function i(){return e[9](e[17])}return{c(){t=m("button"),l=U("(toDefault?)")},l(r){t=v(r,"BUTTON",{});var h=O(t);l=H(h,"(toDefault?)"),h.forEach(F)},m(r,h){j(r,t,h),u(t,l),a||(c=J(t,"click",i),a=!0)},p(r,h){e=r},d(r){r&&F(t),a=!1,c()}}}function ue(e){let t,l,a=he(e[17])+"",c,i,r,h,w,f,g,d,G,S,X,p;function Y(){e[8].call(f,e[17])}let _=e[18]!==e[2][e[17]]&&oe(e);return{c(){t=m("div"),l=m("label"),c=U(a),r=D(),h=m("br"),w=D(),f=m("input"),d=D(),G=m("br"),S=D(),_&&_.c(),this.h()},l(N){t=v(N,"DIV",{class:!0});var o=O(t);l=v(o,"LABEL",{for:!0});var b=O(l);c=H(b,a),b.forEach(F),r=I(o),h=v(o,"BR",{}),w=I(o),f=v(o,"INPUT",{id:!0,type:!0}),d=I(o),G=v(o,"BR",{}),S=I(o),_&&_.l(o),o.forEach(F),this.h()},h(){E(l,"for",i=e[17]),E(f,"id",g=e[17]),E(f,"type","number"),f.required=!0,E(t,"class","py-2")},m(N,o){j(N,t,o),u(t,l),u(l,c),u(t,r),u(t,h),u(t,w),u(t,f),ae(f,e[3][e[17]]),u(t,d),u(t,G),u(t,S),_&&_.m(t,null),X||(p=J(f,"input",Y),X=!0)},p(N,o){e=N,o&8&&a!==(a=he(e[17])+"")&&ve(c,a),o&8&&i!==(i=e[17])&&E(l,"for",i),o&8&&g!==(g=e[17])&&E(f,"id",g),o&8&&fe(f.value)!==e[3][e[17]]&&ae(f,e[3][e[17]]),e[18]!==e[2][e[17]]?_?_.p(e,o):(_=oe(e),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},d(N){N&&F(t),_&&_.d(),X=!1,p()}}}function Ee(e){let t,l,a,c,i,r,h,w,f,g,d,G,S,X,p,Y,_,N,o,b,P,q,A,Q,W,K,B=e[4],k=[];for(let s=0;s<B.length;s+=1)k[s]=se(ie(e,B,s));let L=Object.entries(e[3]),C=[];for(let s=0;s<L.length;s+=1)C[s]=ue(re(e,L,s));return{c(){t=m("div"),l=m("div"),a=m("h1"),c=U("Lindenmayer system"),i=D(),r=m("div"),h=m("canvas"),g=D(),d=m("div"),G=m("h1"),S=U("Choose a preset:"),X=D(),p=m("select");for(let s=0;s<k.length;s+=1)k[s].c();Y=D(),_=m("hr"),N=D(),o=m("form");for(let s=0;s<C.length;s+=1)C[s].c();b=D(),P=m("hr"),q=D(),A=m("button"),Q=U("(Submit)"),this.h()},l(s){t=v(s,"DIV",{class:!0});var T=O(t);l=v(T,"DIV",{class:!0});var n=O(l);a=v(n,"H1",{class:!0});var R=O(a);c=H(R,"Lindenmayer system"),R.forEach(F),i=I(n),r=v(n,"DIV",{class:!0});var Z=O(r);h=v(Z,"CANVAS",{height:!0,width:!0}),O(h).forEach(F),Z.forEach(F),n.forEach(F),g=I(T),d=v(T,"DIV",{class:!0});var V=O(d);G=v(V,"H1",{});var $=O(G);S=H($,"Choose a preset:"),$.forEach(F),X=I(V),p=v(V,"SELECT",{});var x=O(p);for(let y=0;y<k.length;y+=1)k[y].l(x);x.forEach(F),Y=I(V),_=v(V,"HR",{}),N=I(V),o=v(V,"FORM",{});var M=O(o);for(let y=0;y<C.length;y+=1)C[y].l(M);b=I(M),P=v(M,"HR",{}),q=I(M),A=v(M,"BUTTON",{type:!0});var ee=O(A);Q=H(ee,"(Submit)"),ee.forEach(F),M.forEach(F),V.forEach(F),T.forEach(F),this.h()},h(){E(a,"class","text-center"),E(h,"height",w=e[3].width),E(h,"width",f=e[3].height),E(r,"class","border-8 border-purple-400 p-8 -rotate-90 "),E(l,"class","m-auto"),e[0]===void 0&&ge(()=>e[7].call(p)),E(A,"type","submit"),E(d,"class","w-1/5 bg-gray-400 h-screen p-2"),E(t,"class","flex flex-row w-full h-full")},m(s,T){j(s,t,T),u(t,l),u(l,a),u(a,c),u(l,i),u(l,r),u(r,h),e[6](h),u(t,g),u(t,d),u(d,G),u(G,S),u(d,X),u(d,p);for(let n=0;n<k.length;n+=1)k[n].m(p,null);te(p,e[0]),u(d,Y),u(d,_),u(d,N),u(d,o);for(let n=0;n<C.length;n+=1)C[n].m(o,null);u(o,b),u(o,P),u(o,q),u(o,A),u(A,Q),W||(K=[J(p,"change",e[7]),J(o,"submit",pe(e[5]))],W=!0)},p(s,[T]){if(T&8&&w!==(w=s[3].width)&&E(h,"height",w),T&8&&f!==(f=s[3].height)&&E(h,"width",f),T&16){B=s[4];let n;for(n=0;n<B.length;n+=1){const R=ie(s,B,n);k[n]?k[n].p(R,T):(k[n]=se(R),k[n].c(),k[n].m(p,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=B.length}if(T&17&&te(p,s[0]),T&12){L=Object.entries(s[3]);let n;for(n=0;n<L.length;n+=1){const R=re(s,L,n);C[n]?C[n].p(R,T):(C[n]=ue(R),C[n].c(),C[n].m(o,b))}for(;n<C.length;n+=1)C[n].d(1);C.length=L.length}},i:z,o:z,d(s){s&&F(t),e[6](null),le(k,s),le(C,s),W=!1,be(K)}}}function he(e){return e==="startingX"?"Starting Y: ":e==="startingY"?"Starting X: ":e.charAt(0).toUpperCase()+e.slice(1)+": "}function Xe(e,t,l){let a,c=!1,i={width:700,height:700,startingX:0,startingY:350,angle:45,length:6,iterationCount:4},r=JSON.parse(JSON.stringify(i)),h,w,f,g="binaryTree",d=Object.keys(ne);function G(b){let P=ne[b];h=P.axiom,w=P.rules,f=P.actions,l(2,i.angle=P.defaults.angle,i),l(2,i.length=P.defaults.length,i),l(2,i.iterationCount=P.defaults.iterationCount,i),l(3,r=JSON.parse(JSON.stringify(i))),p()}function S(){const b=Ce(h,w,r.iterationCount);ke({arrangement:b,actions:f,ctx:X,angle:r.angle*(Math.PI/180),startingX:r.startingX,startingY:r.startingY,length:r.length})}let X;me(()=>{c=!0,X=a.getContext("2d"),S()});function p(){!c||(X.clearRect(0,0,a.width,a.height),X.beginPath(),S())}function Y(b){Fe[b?"unshift":"push"](()=>{a=b,l(1,a)})}function _(){g=we(this),l(0,g),l(4,d)}function N(b){r[b]=fe(this.value),l(3,r)}const o=b=>l(3,r[b]=i[b],r);return e.$$.update=()=>{e.$$.dirty&1&&G(g)},[g,a,i,r,d,p,Y,_,N,o]}class Oe extends ce{constructor(t){super(),de(this,t,Xe,Ee,_e,{})}}export{Oe as default};
