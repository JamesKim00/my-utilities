import{S as U,i as z,s as K,e as J,b as E,f as I,g as j,t as y,d as G,h as b,k as L,a as V,q as H,l as C,m as A,c as D,r as T,n as P,p as se,K as v,u as R,L as Y,B as q,H as le,M as ne,N as re,O as fe,w as F,x as M,y as N,Y as Z,z as O}from"../../../chunks/index-0349497c.js";import{s as x,F as W,B as ee}from"../../../chunks/Field-7d87549b.js";async function ie(n){const{data:e,error:t}=await x.auth.signInWithPassword({email:n.email,password:n.password});if(t)throw t;return e.user}async function oe(n){const{data:e,error:t}=await x.auth.signUp({email:n.email,password:n.password,options:{data:{name:n.name}}});if(t)throw t;return e.user}function Q(n){let e,t,s,l,o,a=(n[1]||"Alert")+"",u,m,d,i,$,w,k;const _=[ue,ae],p=[];function c(h,r){return h[2]?0:1}i=c(n),$=p[i]=_[i](n);let f=n[3]&&X(n);return{c(){e=L("div"),t=V(),s=L("div"),l=L("div"),o=L("div"),u=H(a),m=V(),d=L("div"),$.c(),w=V(),f&&f.c(),this.h()},l(h){e=C(h,"DIV",{class:!0}),A(e).forEach(b),t=D(h),s=C(h,"DIV",{class:!0,style:!0});var r=A(s);l=C(r,"DIV",{class:!0});var g=A(l);o=C(g,"DIV",{class:!0});var B=A(o);u=T(B,a),B.forEach(b),m=D(g),d=C(g,"DIV",{class:!0});var S=A(d);$.l(S),S.forEach(b),w=D(g),f&&f.l(g),g.forEach(b),r.forEach(b),this.h()},h(){P(e,"class","absolute ml-20 left-0 right-0 top-0 bottom-0 backdrop-blur-sm "),P(o,"class","bg-slate-700 text-white rounded-t-xl text-center py-2 text-xl"),P(d,"class","p-4"),P(l,"class","w-96 min-h-[15rem] rounded-xl shadow-2xl flex flex-col"),P(s,"class","absolute ml-10 left-1/2 top-1/3"),se(s,"transform","translate(-50%,-50%)")},m(h,r){E(h,e,r),E(h,t,r),E(h,s,r),v(s,l),v(l,o),v(o,u),v(l,m),v(l,d),p[i].m(d,null),v(l,w),f&&f.m(l,null),k=!0},p(h,r){(!k||r&2)&&a!==(a=(h[1]||"Alert")+"")&&R(u,a);let g=i;i=c(h),i===g?p[i].p(h,r):(j(),y(p[g],1,1,()=>{p[g]=null}),G(),$=p[i],$?$.p(h,r):($=p[i]=_[i](h),$.c()),I($,1),$.m(d,null)),h[3]?f?f.p(h,r):(f=X(h),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i(h){k||(I($),k=!0)},o(h){y($),k=!1},d(h){h&&b(e),h&&b(t),h&&b(s),p[i].d(),f&&f.d()}}}function ae(n){let e;const t=n[5].default,s=le(t,n,n[4],null);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,o){s&&s.m(l,o),e=!0},p(l,o){s&&s.p&&(!e||o&16)&&ne(s,t,l,l[4],e?fe(t,l[4],o,null):re(l[4]),null)},i(l){e||(I(s,l),e=!0)},o(l){y(s,l),e=!1},d(l){s&&s.d(l)}}}function ue(n){let e;return{c(){e=H(n[2])},l(t){e=T(t,n[2])},m(t,s){E(t,e,s)},p(t,s){s&4&&R(e,t[2])},i:q,o:q,d(t){t&&b(e)}}}function X(n){let e,t,s,l,o;return{c(){e=L("div"),t=L("button"),s=H("I understand"),this.h()},l(a){e=C(a,"DIV",{class:!0});var u=A(e);t=C(u,"BUTTON",{class:!0});var m=A(t);s=T(m,"I understand"),m.forEach(b),u.forEach(b),this.h()},h(){P(t,"class","px-2 py-1 text-sm"),P(e,"class","mt-auto ml-auto mr-4 mb-4 border-2 border-black")},m(a,u){E(a,e,u),v(e,t),v(t,s),l||(o=Y(t,"pointerup",n[6]),l=!0)},p:q,d(a){a&&b(e),l=!1,o()}}}function me(n){let e,t,s=n[0]&&Q(n);return{c(){s&&s.c(),e=J()},l(l){s&&s.l(l),e=J()},m(l,o){s&&s.m(l,o),E(l,e,o),t=!0},p(l,[o]){l[0]?s?(s.p(l,o),o&1&&I(s,1)):(s=Q(l),s.c(),I(s,1),s.m(e.parentNode,e)):s&&(j(),y(s,1,1,()=>{s=null}),G())},i(l){t||(I(s),t=!0)},o(l){y(s),t=!1},d(l){s&&s.d(l),l&&b(e)}}}function ce(n,e,t){let{$$slots:s={},$$scope:l}=e,{showIf:o=!1}=e,{title:a}=e,{body:u}=e,{showCheckout:m=!0}=e;const d=()=>t(0,o=!1);return n.$$set=i=>{"showIf"in i&&t(0,o=i.showIf),"title"in i&&t(1,a=i.title),"body"in i&&t(2,u=i.body),"showCheckout"in i&&t(3,m=i.showCheckout),"$$scope"in i&&t(4,l=i.$$scope)},[o,a,u,m,l,s,d]}class te extends U{constructor(e){super(),z(this,e,ce,me,K,{showIf:0,title:1,body:2,showCheckout:3})}}function _e(n){let e,t,s,l,o,a,u,m,d,i,$,w,k;return t=new W({props:{is:"email",info:n[0]}}),l=new W({props:{is:"password",info:n[0]}}),m=new ee({props:{text:"login",isLoading:n[1]}}),i=new te({props:{showIf:n[2],title:n[3],body:n[4]}}),{c(){e=L("form"),F(t.$$.fragment),s=V(),F(l.$$.fragment),o=V(),a=L("div"),u=V(),F(m.$$.fragment),d=V(),F(i.$$.fragment),this.h()},l(_){e=C(_,"FORM",{});var p=A(e);M(t.$$.fragment,p),s=D(p),M(l.$$.fragment,p),o=D(p),a=C(p,"DIV",{class:!0}),A(a).forEach(b),u=D(p),M(m.$$.fragment,p),p.forEach(b),d=D(_),M(i.$$.fragment,_),this.h()},h(){P(a,"class","h-3")},m(_,p){E(_,e,p),N(t,e,null),v(e,s),N(l,e,null),v(e,o),v(e,a),v(e,u),N(m,e,null),E(_,d,p),N(i,_,p),$=!0,w||(k=Y(e,"submit",Z(n[5])),w=!0)},p(_,[p]){const c={};p&1&&(c.info=_[0]),t.$set(c);const f={};p&1&&(f.info=_[0]),l.$set(f);const h={};p&2&&(h.isLoading=_[1]),m.$set(h);const r={};p&4&&(r.showIf=_[2]),p&8&&(r.title=_[3]),p&16&&(r.body=_[4]),i.$set(r)},i(_){$||(I(t.$$.fragment,_),I(l.$$.fragment,_),I(m.$$.fragment,_),I(i.$$.fragment,_),$=!0)},o(_){y(t.$$.fragment,_),y(l.$$.fragment,_),y(m.$$.fragment,_),y(i.$$.fragment,_),$=!1},d(_){_&&b(e),O(t),O(l),O(m),_&&b(d),O(i,_),w=!1,k()}}}function de(n,e,t){let{info:s}=e,l=!1,o=!1,a,u;async function m(){t(1,l=!0);try{const d=await ie(s);t(3,a=`Hello ${d.user_metadata.name}`),t(4,u="Welcome back!")}catch(d){t(3,a="Error"),t(4,u=d.message)}t(2,o=!1),t(2,o=!0),t(1,l=!1)}return n.$$set=d=>{"info"in d&&t(0,s=d.info)},[s,l,o,a,u,m]}class pe extends U{constructor(e){super(),z(this,e,de,_e,K,{info:0})}}function he(n){let e,t,s,l,o,a,u,m,d,i,$,w,k,_,p;return t=new W({props:{is:"name",info:n[0]}}),l=new W({props:{is:"email",info:n[0]}}),a=new W({props:{is:"password",info:n[0],doPasswordValidation:!0}}),i=new ee({props:{text:"create",isLoading:n[1]}}),w=new te({props:{showIf:n[2],title:n[3],body:n[4]}}),{c(){e=L("form"),F(t.$$.fragment),s=V(),F(l.$$.fragment),o=V(),F(a.$$.fragment),u=V(),m=L("div"),d=V(),F(i.$$.fragment),$=V(),F(w.$$.fragment),this.h()},l(c){e=C(c,"FORM",{id:!0});var f=A(e);M(t.$$.fragment,f),s=D(f),M(l.$$.fragment,f),o=D(f),M(a.$$.fragment,f),u=D(f),m=C(f,"DIV",{class:!0}),A(m).forEach(b),d=D(f),M(i.$$.fragment,f),f.forEach(b),$=D(c),M(w.$$.fragment,c),this.h()},h(){P(m,"class","h-3"),P(e,"id","form")},m(c,f){E(c,e,f),N(t,e,null),v(e,s),N(l,e,null),v(e,o),N(a,e,null),v(e,u),v(e,m),v(e,d),N(i,e,null),E(c,$,f),N(w,c,f),k=!0,_||(p=Y(e,"submit",Z(n[5])),_=!0)},p(c,[f]){const h={};f&1&&(h.info=c[0]),t.$set(h);const r={};f&1&&(r.info=c[0]),l.$set(r);const g={};f&1&&(g.info=c[0]),a.$set(g);const B={};f&2&&(B.isLoading=c[1]),i.$set(B);const S={};f&4&&(S.showIf=c[2]),f&8&&(S.title=c[3]),f&16&&(S.body=c[4]),w.$set(S)},i(c){k||(I(t.$$.fragment,c),I(l.$$.fragment,c),I(a.$$.fragment,c),I(i.$$.fragment,c),I(w.$$.fragment,c),k=!0)},o(c){y(t.$$.fragment,c),y(l.$$.fragment,c),y(a.$$.fragment,c),y(i.$$.fragment,c),y(w.$$.fragment,c),k=!1},d(c){c&&b(e),O(t),O(l),O(a),O(i),c&&b($),O(w,c),_=!1,p()}}}function ge(n,e,t){let{info:s}=e,l=!1,o=!1,a,u;async function m(){t(1,l=!0);try{await oe(s),t(3,a=`Hello, ${s.name}!`),t(4,u=`We sent an email to ${s.email}. Please follow the link in the email to finish the registration process. If you did not receive the email, the email my already be in use.`)}catch(d){t(3,a="Error"),t(4,u=d.message)}t(2,o=!1),t(2,o=!0),t(1,l=!1)}return n.$$set=d=>{"info"in d&&t(0,s=d.info)},[s,l,o,a,u,m]}class be extends U{constructor(e){super(),z(this,e,ge,he,K,{info:0})}}function $e(n){let e,t;return e=new pe({props:{info:n[3]}}),{c(){F(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,l){N(e,s,l),t=!0},p:q,i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function we(n){let e,t;return e=new be({props:{info:n[3]}}),{c(){F(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,l){N(e,s,l),t=!0},p:q,i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ke(n){let e,t,s,l,o,a,u,m,d,i,$=n[2]+"   \u276F",w,k,_,p;const c=[we,$e],f=[];function h(r,g){return r[0]?0:1}return u=h(n),m=f[u]=c[u](n),{c(){e=L("div"),t=H(n[1]),s=V(),l=L("div"),o=H("Please fill out the following fields:"),a=V(),m.c(),d=V(),i=L("div"),w=H($),this.h()},l(r){e=C(r,"DIV",{class:!0});var g=A(e);t=T(g,n[1]),g.forEach(b),s=D(r),l=C(r,"DIV",{class:!0});var B=A(l);o=T(B,"Please fill out the following fields:"),B.forEach(b),a=D(r),m.l(r),d=D(r),i=C(r,"DIV",{class:!0});var S=A(i);w=T(S,$),S.forEach(b),this.h()},h(){P(e,"class","text-2xl"),P(l,"class","text-gray-500 mb-4"),P(i,"class","border-2 border-black py-1 px-3 mt-6 max-w-fit text-sm cursor-pointer")},m(r,g){E(r,e,g),v(e,t),E(r,s,g),E(r,l,g),v(l,o),E(r,a,g),f[u].m(r,g),E(r,d,g),E(r,i,g),v(i,w),k=!0,_||(p=Y(i,"pointerup",n[4]),_=!0)},p(r,[g]){(!k||g&2)&&R(t,r[1]);let B=u;u=h(r),u===B?f[u].p(r,g):(j(),y(f[B],1,1,()=>{f[B]=null}),G(),m=f[u],m?m.p(r,g):(m=f[u]=c[u](r),m.c()),I(m,1),m.m(d.parentNode,d)),(!k||g&4)&&$!==($=r[2]+"   \u276F")&&R(w,$)},i(r){k||(I(m),k=!0)},o(r){y(m),k=!1},d(r){r&&b(e),r&&b(s),r&&b(l),r&&b(a),f[u].d(r),r&&b(d),r&&b(i),_=!1,p()}}}function ve(n,e,t){let s={email:"",password:"",name:""},l=!0,o,a;const u=()=>t(0,l=!l);return n.$$.update=()=>{n.$$.dirty&1&&t(1,o=l?"Make an account":"Login with an existing account"),n.$$.dirty&1&&t(2,a=l?"Login instead":"Create an account instead")},[l,o,a,s,u]}class Ee extends U{constructor(e){super(),z(this,e,ve,ke,K,{})}}export{Ee as default};
